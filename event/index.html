<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>事件 | go-cqhttp 帮助中心</title>
    <meta name="generator" content="VuePress 1.7.1">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-CZJ8X185MG"></script>
    <script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-CZJ8X185MG');</script>
    <meta name="description" content="cqhttp的golang实现，轻量、原生跨平台">
    
    <link rel="preload" href="/assets/css/0.styles.17611693.css" as="style"><link rel="preload" href="/assets/js/app.b500ad12.js" as="script"><link rel="preload" href="/assets/js/3.20e378fe.js" as="script"><link rel="preload" href="/assets/js/12.2e43fcca.js" as="script"><link rel="preload" href="/assets/js/4.f74ac343.js" as="script"><link rel="prefetch" href="/assets/js/10.4ac7fa09.js"><link rel="prefetch" href="/assets/js/11.814e98d5.js"><link rel="prefetch" href="/assets/js/13.aaa12dde.js"><link rel="prefetch" href="/assets/js/14.89748054.js"><link rel="prefetch" href="/assets/js/15.ae0aa2c1.js"><link rel="prefetch" href="/assets/js/16.59ce1df5.js"><link rel="prefetch" href="/assets/js/17.0827cb71.js"><link rel="prefetch" href="/assets/js/18.136fccd1.js"><link rel="prefetch" href="/assets/js/19.e6126036.js"><link rel="prefetch" href="/assets/js/20.349f013e.js"><link rel="prefetch" href="/assets/js/21.36962ac1.js"><link rel="prefetch" href="/assets/js/5.7bd8fca2.js"><link rel="prefetch" href="/assets/js/6.b2c878b0.js"><link rel="prefetch" href="/assets/js/7.ed887b24.js"><link rel="prefetch" href="/assets/js/8.c99d9b08.js"><link rel="prefetch" href="/assets/js/9.83a87485.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.883d461f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.17611693.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">go-cqhttp 帮助中心</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/event/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Event
</a></div><div class="nav-item"><a href="/cqcode/" class="nav-link">
  CQ code
</a></div><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/Mrs4s/go-cqhttp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/api/" class="nav-link">
  API
</a></div><div class="nav-item"><a href="/event/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Event
</a></div><div class="nav-item"><a href="/cqcode/" class="nav-link">
  CQ code
</a></div><div class="nav-item"><a href="/faq/" class="nav-link">
  FAQ
</a></div> <a href="https://github.com/Mrs4s/go-cqhttp" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/event/" aria-current="page" class="active sidebar-link">事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/event/#私聊消息" class="sidebar-link">私聊消息</a></li><li class="sidebar-sub-header"><a href="/event/#群消息" class="sidebar-link">群消息</a></li><li class="sidebar-sub-header"><a href="/event/#群文件上传" class="sidebar-link">群文件上传</a></li><li class="sidebar-sub-header"><a href="/event/#群管理员变动" class="sidebar-link">群管理员变动</a></li><li class="sidebar-sub-header"><a href="/event/#群成员减少" class="sidebar-link">群成员减少</a></li><li class="sidebar-sub-header"><a href="/event/#群成员增加" class="sidebar-link">群成员增加</a></li><li class="sidebar-sub-header"><a href="/event/#群禁言" class="sidebar-link">群禁言</a></li><li class="sidebar-sub-header"><a href="/event/#好友添加" class="sidebar-link">好友添加</a></li><li class="sidebar-sub-header"><a href="/event/#群消息撤回" class="sidebar-link">群消息撤回</a></li><li class="sidebar-sub-header"><a href="/event/#好友消息撤回" class="sidebar-link">好友消息撤回</a></li><li class="sidebar-sub-header"><a href="/event/#好友戳一戳" class="sidebar-link">好友戳一戳</a></li><li class="sidebar-sub-header"><a href="/event/#群内戳一戳" class="sidebar-link">群内戳一戳</a></li><li class="sidebar-sub-header"><a href="/event/#群红包运气王提示" class="sidebar-link">群红包运气王提示</a></li><li class="sidebar-sub-header"><a href="/event/#群成员荣誉变更提示" class="sidebar-link">群成员荣誉变更提示</a></li><li class="sidebar-sub-header"><a href="/event/#群成员名片更新" class="sidebar-link">群成员名片更新</a></li><li class="sidebar-sub-header"><a href="/event/#接收到离线文件" class="sidebar-link">接收到离线文件</a></li><li class="sidebar-sub-header"><a href="/event/#加好友请求" class="sidebar-link">加好友请求</a></li><li class="sidebar-sub-header"><a href="/event/#加群请求-邀请" class="sidebar-link">加群请求／邀请</a></li><li class="sidebar-sub-header"><a href="/event/#其他客户端在线状态变更" class="sidebar-link">其他客户端在线状态变更</a></li><li class="sidebar-sub-header"><a href="/event/#精华消息" class="sidebar-link">精华消息</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h1> <h2 id="私聊消息"><a href="#私聊消息" class="header-anchor">#</a> 私聊消息</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>message</code></td> <td>上报类型</td></tr> <tr><td><code>message_type</code></td> <td>string</td> <td><code>private</code></td> <td>消息类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>friend</code>、<code>group</code>、<code>group_self</code>、<code>other</code></td> <td>消息子类型, 如果是好友则是 <code>friend</code>, 如果是群临时会话则是 <code>group</code>, 如果是在群中自身发送则是 <code>group_self</code></td></tr> <tr><td><code>temp_source</code></td> <td>int</td> <td>-</td> <td>临时会话来源</td></tr> <tr><td><code>message_id</code></td> <td>int32</td> <td>-</td> <td>消息 ID</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>发送者 QQ 号</td></tr> <tr><td><code>message</code></td> <td>message</td> <td>-</td> <td>消息内容</td></tr> <tr><td><code>raw_message</code></td> <td>string</td> <td>-</td> <td>原始消息内容</td></tr> <tr><td><code>font</code></td> <td>int32</td> <td>-</td> <td>字体</td></tr> <tr><td><code>sender</code></td> <td>object</td> <td>-</td> <td>发送人信息</td></tr></tbody></table> <p>其中 <code>sender</code> 字段的内容如下：</p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>user_id</code></td> <td>int64</td> <td>发送者 QQ 号</td></tr> <tr><td><code>nickname</code></td> <td>string</td> <td>昵称</td></tr> <tr><td><code>sex</code></td> <td>string</td> <td>性别, <code>male</code> 或 <code>female</code> 或 <code>unknown</code></td></tr> <tr><td><code>age</code></td> <td>int32</td> <td>年龄</td></tr></tbody></table> <p>需要注意的是, <code>sender</code> 中的各字段是尽最大努力提供的, 也就是说, 不保证每个字段都一定存在, 也不保证存在的字段都是完全正确的 ( 缓存可能过期 ) 。</p> <p>其中 <code>temp_source</code> 的类型如下：</p> <table><thead><tr><th>类型</th> <th>来源</th></tr></thead> <tbody><tr><td>0</td> <td>群聊</td></tr> <tr><td>1</td> <td>QQ咨询</td></tr> <tr><td>2</td> <td>查找</td></tr> <tr><td>3</td> <td>QQ电影</td></tr> <tr><td>4</td> <td>热聊</td></tr> <tr><td>6</td> <td>验证消息</td></tr> <tr><td>7</td> <td>多人聊天</td></tr> <tr><td>8</td> <td>约会</td></tr> <tr><td>9</td> <td>通讯录</td></tr></tbody></table> <p><strong>快速操作</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th> <th>默认情况</th></tr></thead> <tbody><tr><td><code>reply</code></td> <td>message</td> <td>要回复的内容</td> <td>不回复</td></tr> <tr><td><code>auto_escape</code></td> <td>boolean</td> <td>消息内容是否作为纯文本发送 ( 即不解析 CQ 码 ) , 只在 <code>reply</code> 字段是字符串时有效</td> <td>不转义</td></tr></tbody></table> <h2 id="群消息"><a href="#群消息" class="header-anchor">#</a> 群消息</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>message</code></td> <td>上报类型</td></tr> <tr><td><code>message_type</code></td> <td>string</td> <td><code>group</code></td> <td>消息类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>normal</code>、<code>anonymous</code>、<code>notice</code></td> <td>消息子类型, 正常消息是 <code>normal</code>, 匿名消息是 <code>anonymous</code>, 系统提示 ( 如「管理员已禁止群内匿名聊天」 ) 是 <code>notice</code></td></tr> <tr><td><code>message_id</code></td> <td>int32</td> <td>-</td> <td>消息 ID</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>发送者 QQ 号</td></tr> <tr><td><code>anonymous</code></td> <td>object</td> <td>-</td> <td>匿名信息, 如果不是匿名消息则为 null</td></tr> <tr><td><code>message</code></td> <td>message</td> <td>-</td> <td>消息内容</td></tr> <tr><td><code>raw_message</code></td> <td>string</td> <td>-</td> <td>原始消息内容</td></tr> <tr><td><code>font</code></td> <td>int32</td> <td>-</td> <td>字体</td></tr> <tr><td><code>sender</code></td> <td>object</td> <td>-</td> <td>发送人信息</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><code>anonymous</code> 字段从 go-cqhttp-v0.9.36 开始支持</p></div> <p>其中 <code>anonymous</code> 字段的内容如下：</p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>id</code></td> <td>int64</td> <td>匿名用户 ID</td></tr> <tr><td><code>name</code></td> <td>string</td> <td>匿名用户名称</td></tr> <tr><td><code>flag</code></td> <td>string</td> <td>匿名用户 flag, 在调用禁言 API 时需要传入</td></tr></tbody></table> <p><code>sender</code> 字段的内容如下：</p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>user_id</code></td> <td>int64</td> <td>发送者 QQ 号</td></tr> <tr><td><code>nickname</code></td> <td>string</td> <td>昵称</td></tr> <tr><td><code>card</code></td> <td>string</td> <td>群名片／备注</td></tr> <tr><td><code>sex</code></td> <td>string</td> <td>性别, <code>male</code> 或 <code>female</code> 或 <code>unknown</code></td></tr> <tr><td><code>age</code></td> <td>int32</td> <td>年龄</td></tr> <tr><td><code>area</code></td> <td>string</td> <td>地区</td></tr> <tr><td><code>level</code></td> <td>string</td> <td>成员等级</td></tr> <tr><td><code>role</code></td> <td>string</td> <td>角色, <code>owner</code> 或 <code>admin</code> 或 <code>member</code></td></tr> <tr><td><code>title</code></td> <td>string</td> <td>专属头衔</td></tr></tbody></table> <p>需要注意的是, <code>sender</code> 中的各字段是尽最大努力提供的, 也就是说, 不保证每个字段都一定存在, 也不保证存在的字段都是完全正确的 ( 缓存可能过期 ) 。尤其对于匿名消息, 此字段不具有参考价值。</p> <p><strong>快速操作</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th> <th>默认情况</th></tr></thead> <tbody><tr><td><code>reply</code></td> <td>message</td> <td>要回复的内容</td> <td>不回复</td></tr> <tr><td><code>auto_escape</code></td> <td>boolean</td> <td>消息内容是否作为纯文本发送 ( 即不解析 CQ 码 ) , 只在 <code>reply</code> 字段是字符串时有效</td> <td>不转义</td></tr> <tr><td><code>at_sender</code></td> <td>boolean</td> <td>是否要在回复开头 at 发送者 ( 自动添加 ) , 发送者是匿名用户时无效</td> <td>at 发送者</td></tr> <tr><td><code>delete</code></td> <td>boolean</td> <td>撤回该条消息</td> <td>不撤回</td></tr> <tr><td><code>kick</code></td> <td>boolean</td> <td>把发送者踢出群组 ( 需要登录号权限足够 ) , <strong>不拒绝</strong>此人后续加群请求, 发送者是匿名用户时无效</td> <td>不踢</td></tr> <tr><td><code>ban</code></td> <td>boolean</td> <td>把发送者禁言 <code>ban_duration</code> 指定时长, 对匿名用户也有效</td> <td>不禁言</td></tr> <tr><td><code>ban_duration</code></td> <td>number</td> <td>禁言时长</td> <td>30 分钟</td></tr></tbody></table> <h2 id="群文件上传"><a href="#群文件上传" class="header-anchor">#</a> 群文件上传</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_upload</code></td> <td>通知类型</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>发送者 QQ 号</td></tr> <tr><td><code>file</code></td> <td>object</td> <td>-</td> <td>文件信息</td></tr></tbody></table> <p>其中 <code>file</code> 字段的内容如下：</p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th></tr></thead> <tbody><tr><td><code>id</code></td> <td>string</td> <td>文件 ID</td></tr> <tr><td><code>name</code></td> <td>string</td> <td>文件名</td></tr> <tr><td><code>size</code></td> <td>int64</td> <td>文件大小 ( 字节数 )</td></tr> <tr><td><code>busid</code></td> <td>int64</td> <td>busid ( 目前不清楚有什么作用 )</td></tr></tbody></table> <h2 id="群管理员变动"><a href="#群管理员变动" class="header-anchor">#</a> 群管理员变动</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_admin</code></td> <td>通知类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>set</code>、<code>unset</code></td> <td>事件子类型, 分别表示设置和取消管理员</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>管理员 QQ 号</td></tr></tbody></table> <h2 id="群成员减少"><a href="#群成员减少" class="header-anchor">#</a> 群成员减少</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_decrease</code></td> <td>通知类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>leave</code>、<code>kick</code>、<code>kick_me</code></td> <td>事件子类型, 分别表示主动退群、成员被踢、登录号被踢</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>operator_id</code></td> <td>int64</td> <td>-</td> <td>操作者 QQ 号 ( 如果是主动退群, 则和 <code>user_id</code> 相同 )</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>离开者 QQ 号</td></tr></tbody></table> <h2 id="群成员增加"><a href="#群成员增加" class="header-anchor">#</a> 群成员增加</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_increase</code></td> <td>通知类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>approve</code>、<code>invite</code></td> <td>事件子类型, 分别表示管理员已同意入群、管理员邀请入群</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>operator_id</code></td> <td>int64</td> <td>-</td> <td>操作者 QQ 号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>加入者 QQ 号</td></tr></tbody></table> <h2 id="群禁言"><a href="#群禁言" class="header-anchor">#</a> 群禁言</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_ban</code></td> <td>通知类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>ban</code>、<code>lift_ban</code></td> <td>事件子类型, 分别表示禁言、解除禁言</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>operator_id</code></td> <td>int64</td> <td>-</td> <td>操作者 QQ 号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>被禁言 QQ 号</td></tr> <tr><td><code>duration</code></td> <td>int64</td> <td>-</td> <td>禁言时长, 单位秒</td></tr></tbody></table> <h2 id="好友添加"><a href="#好友添加" class="header-anchor">#</a> 好友添加</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>friend_add</code></td> <td>通知类型</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>新添加好友 QQ 号</td></tr></tbody></table> <h2 id="群消息撤回"><a href="#群消息撤回" class="header-anchor">#</a> 群消息撤回</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_recall</code></td> <td>通知类型</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td></td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>消息发送者 QQ 号</td></tr> <tr><td><code>operator_id</code></td> <td>int64</td> <td></td> <td>操作者 QQ 号</td></tr> <tr><td><code>message_id</code></td> <td>int64</td> <td></td> <td>被撤回的消息 ID</td></tr></tbody></table> <h2 id="好友消息撤回"><a href="#好友消息撤回" class="header-anchor">#</a> 好友消息撤回</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>friend_recall</code></td> <td>通知类型</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>好友 QQ 号</td></tr> <tr><td><code>message_id</code></td> <td>int64</td> <td></td> <td>被撤回的消息 ID</td></tr></tbody></table> <h2 id="好友戳一戳"><a href="#好友戳一戳" class="header-anchor">#</a> 好友戳一戳</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>notify</code></td> <td>消息类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>poke</code></td> <td>提示类型</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td></td> <td>BOT QQ 号</td></tr> <tr><td><code>sender_id</code></td> <td>int64</td> <td></td> <td>发送者 QQ 号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>发送者 QQ 号</td></tr> <tr><td><code>target_id</code></td> <td>int64</td> <td></td> <td>被戳者 QQ 号</td></tr> <tr><td><code>time</code></td> <td>int64</td> <td></td> <td>时间</td></tr></tbody></table> <h2 id="群内戳一戳"><a href="#群内戳一戳" class="header-anchor">#</a> 群内戳一戳</h2> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>此事件无法在手表协议上触发</p></div> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>notify</code></td> <td>消息类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>poke</code></td> <td>提示类型</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td></td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>发送者 QQ 号</td></tr> <tr><td><code>target_id</code></td> <td>int64</td> <td></td> <td>被戳者 QQ 号</td></tr></tbody></table> <h2 id="群红包运气王提示"><a href="#群红包运气王提示" class="header-anchor">#</a> 群红包运气王提示</h2> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>此事件无法在手表协议上触发</p></div> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>notify</code></td> <td>消息类型</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td></td> <td>群号</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>lucky_king</code></td> <td>提示类型</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>红包发送者id</td></tr> <tr><td><code>target_id</code></td> <td>int64</td> <td></td> <td>运气王id</td></tr></tbody></table> <h2 id="群成员荣誉变更提示"><a href="#群成员荣誉变更提示" class="header-anchor">#</a> 群成员荣誉变更提示</h2> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>此事件无法在手表协议上触发</p></div> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>notify</code></td> <td>消息类型</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td></td> <td>群号</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>honor</code></td> <td>提示类型</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>成员id</td></tr> <tr><td><code>honor_type</code></td> <td>string</td> <td><code>talkative:龙王</code> <code>performer:群聊之火</code> <code>emotion:快乐源泉</code></td> <td>荣誉类型</td></tr></tbody></table> <h2 id="群成员名片更新"><a href="#群成员名片更新" class="header-anchor">#</a> 群成员名片更新</h2> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p>此事件不保证时效性, 仅在收到消息时校验卡片</p></div> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>group_card</code></td> <td>消息类型</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td></td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>成员id</td></tr> <tr><td><code>card_new</code></td> <td>string</td> <td></td> <td>新名片</td></tr> <tr><td><code>card_old</code></td> <td>string</td> <td></td> <td>旧名片</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">PS</p> <p>当名片为空时 <code>card_xx</code> 字段为空字符串, 并不是昵称</p></div> <h2 id="接收到离线文件"><a href="#接收到离线文件" class="header-anchor">#</a> 接收到离线文件</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>offline_file</code></td> <td>消息类型</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td></td> <td>发送者id</td></tr> <tr><td><code>file</code></td> <td>object</td> <td></td> <td>文件数据</td></tr></tbody></table> <p><strong>file object</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>name</code></td> <td>string</td> <td></td> <td>文件名</td></tr> <tr><td><code>size</code></td> <td>int64</td> <td></td> <td>文件大小</td></tr> <tr><td><code>url</code></td> <td>string</td> <td></td> <td>下载链接</td></tr></tbody></table> <h2 id="加好友请求"><a href="#加好友请求" class="header-anchor">#</a> 加好友请求</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>request</code></td> <td>上报类型</td></tr> <tr><td><code>request_type</code></td> <td>string</td> <td><code>friend</code></td> <td>请求类型</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>发送请求的 QQ 号</td></tr> <tr><td><code>comment</code></td> <td>string</td> <td>-</td> <td>验证信息</td></tr> <tr><td><code>flag</code></td> <td>string</td> <td>-</td> <td>请求 flag, 在调用处理请求的 API 时需要传入</td></tr></tbody></table> <p><strong>快速操作</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th> <th>默认情况</th></tr></thead> <tbody><tr><td><code>approve</code></td> <td>boolean</td> <td>是否同意请求</td> <td>不处理</td></tr> <tr><td><code>remark</code></td> <td>string</td> <td>添加后的好友备注 ( 仅在同意时有效 )</td> <td>无备注</td></tr></tbody></table> <h2 id="加群请求-邀请"><a href="#加群请求-邀请" class="header-anchor">#</a> 加群请求／邀请</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>time</code></td> <td>int64</td> <td>-</td> <td>事件发生的时间戳</td></tr> <tr><td><code>self_id</code></td> <td>int64</td> <td>-</td> <td>收到事件的机器人 QQ 号</td></tr> <tr><td><code>post_type</code></td> <td>string</td> <td><code>request</code></td> <td>上报类型</td></tr> <tr><td><code>request_type</code></td> <td>string</td> <td><code>group</code></td> <td>请求类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>add</code>、<code>invite</code></td> <td>请求子类型, 分别表示加群请求、邀请登录号入群</td></tr> <tr><td><code>group_id</code></td> <td>int64</td> <td>-</td> <td>群号</td></tr> <tr><td><code>user_id</code></td> <td>int64</td> <td>-</td> <td>发送请求的 QQ 号</td></tr> <tr><td><code>comment</code></td> <td>string</td> <td>-</td> <td>验证信息</td></tr> <tr><td><code>flag</code></td> <td>string</td> <td>-</td> <td>请求 flag, 在调用处理请求的 API 时需要传入</td></tr></tbody></table> <p><strong>快速操作</strong></p> <table><thead><tr><th>字段名</th> <th>数据类型</th> <th>说明</th> <th>默认情况</th></tr></thead> <tbody><tr><td><code>approve</code></td> <td>boolean</td> <td>是否同意请求／邀请</td> <td>不处理</td></tr> <tr><td><code>reason</code></td> <td>string</td> <td>拒绝理由 ( 仅在拒绝时有效 )</td> <td>无理由</td></tr></tbody></table> <h2 id="其他客户端在线状态变更"><a href="#其他客户端在线状态变更" class="header-anchor">#</a> 其他客户端在线状态变更</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>client_status</code></td> <td>消息类型</td></tr> <tr><td><code>client</code></td> <td>Device*</td> <td></td> <td>客户端信息</td></tr> <tr><td><code>online</code></td> <td>bool</td> <td></td> <td>当前是否在线</td></tr></tbody></table> <ul><li>Device 可在 <a href="/api/#获取当前账号在线客户端列表">API - 获取当前账号在线客户端列表</a> 查看</li></ul> <h2 id="精华消息"><a href="#精华消息" class="header-anchor">#</a> 精华消息</h2> <p><strong>事件数据</strong></p> <table><thead><tr><th>字段</th> <th>类型</th> <th>可能的值</th> <th>说明</th></tr></thead> <tbody><tr><td><code>post_type</code></td> <td>string</td> <td><code>notice</code></td> <td>上报类型</td></tr> <tr><td><code>notice_type</code></td> <td>string</td> <td><code>essence</code></td> <td>消息类型</td></tr> <tr><td><code>sub_type</code></td> <td>string</td> <td><code>add</code>,<code>delete</code></td> <td>添加为<code>add</code>,移出为<code>delete</code></td></tr> <tr><td><code>sender_id</code></td> <td>int64</td> <td></td> <td>消息发送者ID</td></tr> <tr><td><code>operator_id</code></td> <td>int64</td> <td></td> <td>操作者ID</td></tr> <tr><td><code>message_id</code></td> <td>int32</td> <td></td> <td>消息ID</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ishkong/go-cqhttp-docs/edit/main/docs/event/README.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上一次编辑:</span> <span class="time">11/17/2021, 2:47:54 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.b500ad12.js" defer></script><script src="/assets/js/3.20e378fe.js" defer></script><script src="/assets/js/12.2e43fcca.js" defer></script><script src="/assets/js/4.f74ac343.js" defer></script>
  </body>
</html>
